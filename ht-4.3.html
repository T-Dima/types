<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
   var punctuations = [',', '.', '!', '?', '-', ':', ';']; //массив со знаками пунктуации
   var text =  prompt("Введите строку символов от 1 до 140", "");//просим указать строку от 1 до 140 символов
    {
        do{//делаем цикл проверки
            if(text.length>140){ //если длина больше 140 символов показываем сообщение что указали больше 140
                text = prompt("Вы ввели больше 140 символов. Укажите корректное число символов от 1 до 140","");
            }
            if (!text) { // если не указали текст вообще, просим указать так как не указали вообще текста
                text = prompt("Вы не указали ниодного символа. Укажите корректное число символов от 1 до 140","");
                }

        }while (!text || text.length>140);//условие, показывать сообщения, пока текст не будет от 1 до 140 сивмолов
    }

   var chars_cont = 0; // обьявляем переменную счетчика и присваиваем ее к 0

   function replacer(str) { //функция счетчик замены сивмолов
       chars_cont++;
       return str[0];
   }

   document.write("'Hey, here's Your original message: <br>" + text);
   document.write('<br>');

   text = text.replace(new RegExp("[\\" + punctuations.join('\\') + "]+", "g"), replacer, text);// если нашли повторения, заменяем на один знак из массива

   document.write("We've found some mistakes, so corrected them for You: <br>" + text);
   document.write('<br>');
   document.write( (chars_cont * 100 / text.length).toFixed(2) + " % " + "of the text are punctuation marks!");// показывает процент знаков пунктуации.

</script>
</body>
</html>